{% extends "layouts/base.html" %}

{% block content %}
<div class="flex h-screen bg-background">
    <aside class="w-64 bg-card border-r border-border">
        <div class="p-4 border-b border-border">
            <div class="flex items-center space-x-2">
                <div class="w-10 h-10 bg-primary rounded-full flex items-center justify-center">
                    <span class="text-2xl text-primary-foreground">âœ¨</span>
                </div>
                <span class="text-xl font-headline font-bold">Ahlan Arabic</span>
            </div>
        </div>
        <nav class="p-4 space-y-2">
            <a href="/teacher/dashboard" class="flex items-center space-x-3 px-3 py-2 rounded-md hover:bg-muted">
                <i data-lucide="layout-dashboard" class="w-5 h-5"></i>
                <span>Dashboard</span>
            </a>
            <a href="/teacher/dashboard/analytics" class="flex items-center space-x-3 px-3 py-2 rounded-md hover:bg-muted">
                <i data-lucide="bar-chart" class="w-5 h-5"></i>
                <span>Analytics</span>
            </a>
            <a href="/teacher/dashboard/history" class="flex items-center space-x-3 px-3 py-2 rounded-md bg-primary text-primary-foreground">
                <i data-lucide="history" class="w-5 h-5"></i>
                <span>History</span>
            </a>
            <a href="/auth/logout" class="flex items-center space-x-3 px-3 py-2 rounded-md hover:bg-muted text-destructive">
                <i data-lucide="log-out" class="w-5 h-5"></i>
                <span>Logout</span>
            </a>
        </nav>
    </aside>
    
    <main class="flex-1 overflow-y-auto">
        <div class="p-8">
            <h1 class="text-3xl font-headline font-bold mb-6">Session History</h1>
            
            <div class="rounded-lg border border-border bg-card">
                <table class="w-full">
                    <thead class="border-b border-border">
                        <tr>
                            <th class="text-left p-4 font-medium">Title</th>
                            <th class="text-left p-4 font-medium">PIN</th>
                            <th class="text-left p-4 font-medium">Status</th>
                            <th class="text-left p-4 font-medium">Created</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for session in sessions %}
                        <tr class="border-b border-border last:border-0">
                            <td class="p-4">{{ session.title }}</td>
                            <td class="p-4 font-mono">{{ session.pin }}</td>
                            <td class="p-4">
                                <span class="px-2 py-1 rounded-full text-xs {% if session.status == 'active' %}bg-green-100 text-green-800{% else %}bg-gray-100 text-gray-800{% endif %}">
                                    {{ session.status }}
                                </span>
                            </td>
                            <td class="p-4 text-muted-foreground">{{ session.created_at.strftime('%Y-%m-%d %H:%M') }}</td>
                        </tr>
                        {% endfor %}
                        
                        {% if not sessions %}
                        <tr>
                            <td colspan="4" class="p-8 text-center text-muted-foreground">
                                No session history available
                            </td>
                        </tr>
                        {% endif %}
                    </tbody>
                </table>
            </div>
        </div>
    </main>
</div>
{% endblock %}
